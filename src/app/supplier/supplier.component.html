<div *ngIf="supplierToUpdate == null">
  <fieldset>
    <form name="searchForm" (ngSubmit)="sf.form.valid && find()" #sf="ngForm" novalidate>
      <input class="regular" type="text" [(ngModel)]="value" placeholder="Search..." name="valueToFind" required/>
      <button class="regular" type="submit">Find</button>
      <button class="regular" (click)="cancel()">Cancel</button>
      <select class="regular" [(ngModel)]="field" name="fieldToFind" required>
        <option value="code">Supplier's Code</option>
        <option value="name">Name</option>
        <option value="address">Address</option>
        <option value="phone">Phone</option>
      </select>
    </form>
  </fieldset>
  <fieldset>
    <form name="form" (ngSubmit)="f.form.valid && create(f)" #f="ngForm" novalidate>
      <input class="regular" type="text" [(ngModel)]="supplier.code" name="code" placeholder="Supplier's Code" required />
      <input class="regular" type="text" [(ngModel)]="supplier.name" name="name" placeholder="Name" required />
      <button class="regular">Create</button>
      <input class="regular" type="text" [(ngModel)]="supplier.address" name="address" placeholder="Address" required />
      <input class="regular" type="text" [(ngModel)]="supplier.phone" name="phone" placeholder="Phone" required />
    </form>
  </fieldset>
</div>
<table border="1" cellspacing="0" cellpadding="5">
  <thead>
    <th>ID</th>
    <th>Supplier's Code</th>
    <th>Name</th>
    <th>Address</th>
    <th>Phone</th>
    <th *ngIf="supplierToUpdate == null" colspan="2">Modification</th>
  </thead>
  <tbody>
    <tr *ngFor="let row of suppliers" align="center">
      <td>{{row.id}}</td>
      <td>
        <span *ngIf="supplierToUpdate == null || supplierToUpdate.id != row.id">{{row.code}}</span>
        <span *ngIf="supplierToUpdate != null && supplierToUpdate.id == row.id">
            <input class="tab" type="text" [(ngModel)]="supplierToUpdate.code" name="codeUpd" />
          </span>
      </td>
      <td>
        <span *ngIf="supplierToUpdate == null || supplierToUpdate.id != row.id">{{row.name}}</span>
        <span *ngIf="supplierToUpdate != null && supplierToUpdate.id == row.id">
            <input class="tab" type="text" [(ngModel)]="supplierToUpdate.name" name="nameUpd" />
          </span>
      </td>
      <td>
        <span *ngIf="supplierToUpdate == null || supplierToUpdate.id != row.id">{{row.address}}</span>
        <span *ngIf="supplierToUpdate != null && supplierToUpdate.id == row.id">
            <input class="tab" type="text" [(ngModel)]="supplierToUpdate.address" name="addressUpd" />
          </span>
      </td>
      <td>
        <span *ngIf="supplierToUpdate == null || supplierToUpdate.id != row.id">{{row.phone}}</span>
        <span *ngIf="supplierToUpdate != null && supplierToUpdate.id == row.id">
            <input class="tab" type="text" [(ngModel)]="supplierToUpdate.phone" name="phoneUpd" />
          </span>
      </td>
      <td *ngIf="supplierToUpdate == null">
        <button class="tab" (click)="delete(row.id)">Delete</button>
      </td>
      <td *ngIf="supplierToUpdate == null">
        <button class="tab" (click)="update(row)">Edit</button>
      </td>
    </tr>
  </tbody>
</table>
<button *ngIf="supplierToUpdate != null" class="save" (click)="save()">Save</button>
